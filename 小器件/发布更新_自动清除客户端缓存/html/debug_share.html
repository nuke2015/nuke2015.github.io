<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
            <title>
                Document
            </title>
        </meta>
    </head>
    <body>
        公众号分享测试
        <script src="/js/lib/jquery-2.1.1.min.js">
        </script>
        <script src="/js/lib/fastclick.js">
        </script>
        <script src="/js/utils/template.js">
        </script>
        <script src="/js/utils/utils.js">
        </script>
        <!--  
        <script>
            var api={
                // for debug;
                share_debug: function() {
                var req = {
                    "methodName": "AppShare",
                    "version": "2.0",
                    "yuesao_id": 35
                };
                doRequestwithnoheader(req, function(res) {
                    var wxParams = res.data;
                    var req = {
                        "methodName": "WeixinShare",
                        "version": "2.0",
                        "refer_url": location.href
                    }
                    doRequestwithnoheader(req, function(res) {
                        var wxShareConfig = res.data;
                        wxShareConfig.debug=true;
                        console.log('share_debug_config',wxParams,wxShareConfig);
                        weixin_pub.shareInit(wxParams, wxShareConfig);
                        // 去公众号检查
                    }, function() {
                        // no error
                    });
                }, function() {
                    // no error
                });
            },
            // for demo
            share_demo:function(){
                var req = {
                    "methodName": "AppShare",
                    "version": "2.0",
                    "yuesao_id": 35
                };
                console.log('share_demo',req);
                doRequestwithnoheader(req, function(res) {
                    weixin_pub.shareSend(res.data);
                },function(){
                    // no error
                });
            },
        };
        api.share_debug();
        // api.share_demo();
        </script>
    </body>
</html>